# pum24_projekt_PlotReader
Repozytorium zawierające kod istotny dla projektu PlotReader Kacpra Siąkały i Mateusza Pączka

Plik PlotReader zawiera kod programu mającego za cel otrzymywanie danych cyfrowych ze zdjęć wykresu. Program bazuje na funkcjach z pakietu OpenCV oraz narzędziu Tesseract OCR i stanowi uproszczoną wersję w pełni funkcjonalnego docelowego programu opierającego się na sieciach neuronowych. Wymaga on jednakże głębszego, dokładniejszego dopracowania i przy dodaniu, i wytrenowaniu sieci neuronowych będzie możliwe uzyskiwanie dobrych rezultatów przy słabszych jakościowo zdjęciach, trudniejszych wykresach o skomplikowanym przebiegu. 
W celu uruchomienia programu konieczne jest zainstalowanie narzędzia Tesseract oraz zainstalowanie pakietów pytesseract, opencv-python, numpy, matplotlib. W kodzie konieczne jest podanie ścieżki prowadzącej do programu tesseract.exe oraz do obrazu wykresu, który chcemy poddać działaniu PlotReader. Jako output w working directory zapisywany jest obraz wykresu wyjściowego, plik csv z odczytanymi z wykresu punktami oraz obraz wykresu wejściowego z oznaczonymi przez program osiami. 
Link do użytego instalatora Tesseract OCR: Home · UB-Mannheim/tesseract Wiki · GitHub

Plik axis_detector.py to program w języku python, który trenuje model Faster r-CNN, a następnie próbuje wykryć osie wykresu opisane jako vertical_line oraz horizontal_line.
Podczas używania axis_detector.py należy w odpowiednim miejscu wpisać ścieżkę do folderu z obrazami testowymi (image_dir), ścieżkę do pliku z etykietami wykonanego optymalnie w programie CVAT (annotation_file, istotne jest aby osie zaznaczać jako wielokąty - polygons) oraz ścieżkę do obrazu z wykresem, na którym mają być wykryte osie (image_path). Należy również dostosować odpowiedni próg zaufania dla wykrywanych obiektów (treshold) oraz rekomendowaną minimalną wielkość wykrywanych obiektów (drugi argument funcji filter_small_boxes, rekomendowane 10000). Program często wykrywa jedynie jeden rodzaj osi. Program potrzebuje pewnej ilości czasu, zależnej od ilości kroków treningu (num_epochs). Parametry najlepiej dostosowywać metodą prób i błędów.
